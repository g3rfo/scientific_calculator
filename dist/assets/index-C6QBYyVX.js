(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=o(s);fetch(s.href,r)}})();const apiKey="5352e75a23af59ad2fe1a9c86d300bd6",openModeSelection=document.querySelector(".change-mode-button"),topBarTitle=document.querySelector(".title"),openHistory=document.querySelector(".history-button"),modeSelectionAside=document.querySelector(".mode-selection"),selectStandartMode=document.querySelector(".mode-1"),selectScientificMode=document.querySelector(".mode-2"),selectDateCalculationMode=document.querySelector(".mode-3"),selectCurrencyMode=document.querySelector(".mode-4"),selectWeightAndMassMode=document.querySelector(".mode-5"),selectTemperatureMode=document.querySelector(".mode-6"),selectAreaMode=document.querySelector(".mode-7"),selectTimeMode=document.querySelector(".mode-8"),selectPowerMode=document.querySelector(".mode-9"),selectDataMode=document.querySelector(".mode-10"),display=document.querySelector(".display"),expression=document.querySelector(".expression"),result=document.querySelector(".result"),expressionFontSize=getPxToNumberValue(getComputedStyle(expression).fontSize),resultFontSize=getPxToNumberValue(getComputedStyle(result).fontSize);let isCurrentFromToMode=!1,isCurrentDateMode=!1;const displayFromToMode=document.querySelector(".display-from-to-mode"),firstSelectionList=document.getElementById("first-select"),secondSelectionList=document.getElementById("second-select");document.querySelector(".first-unit");document.querySelector(".second-unit");const firstUnitText=document.querySelector(".first-unit-result"),secondUnitText=document.querySelector(".second-unit-result"),firstDate=document.getElementById("first-date"),secondDate=document.getElementById("second-date"),additionResult=document.querySelector(".addition-result");let convertFunction,currency=[];const weightAndMass=[{name:"Milligrams",toKilograms:1e-6},{name:"Grams",toKilograms:.001},{name:"Kilograms",toKilograms:1},{name:"American tones",toKilograms:907.18474},{name:"Tones",toKilograms:1e3},{name:"English tones",toKilograms:1016.0469088},{name:"Carat",toKilograms:2e-4},{name:"Ounces",toKilograms:.0283495231},{name:"Pounds",toKilograms:.45359237}],temperature=[{name:"Celsius"},{name:"Fahrenheit"},{name:"Kelvin"}],area=[{name:"Square millimeters",toSquareMeters:1e-6},{name:"Square centimeters",toSquareMeters:1e-4},{name:"Square meters",toSquareMeters:1},{name:"Hectares",toSquareMeters:1e4},{name:"Square kilometers",toSquareMeters:1e6},{name:"Square inches",toSquareMeters:645e-6},{name:"Square inches",toSquareMeters:645e-6},{name:"Square feet",toSquareMeters:.092903},{name:"Square yards",toSquareMeters:.836127},{name:"Acres",toSquareMeters:4046.856},{name:"Square miles",toSquareMeters:2589988}],time=[{name:"Microseconds",toSeconds:1e-6},{name:"Milliseconds",toSeconds:.001},{name:"Seconds",toSeconds:1},{name:"Minutes",toSeconds:60},{name:"Hours",toSeconds:3600},{name:"Days",toSeconds:86400},{name:"Weeks",toSeconds:604800},{name:"Years",toSeconds:31557600}],power=[{name:"Microwatt",toWatt:1e-6},{name:"Milliwatt",toWatt:.001},{name:"Watt",toWatt:1},{name:"Kilowatt",toWatt:1e3},{name:"Megawatt",toWatt:1e6},{name:"Gigawatt",toWatt:1e9},{name:"Horsepower",toWatt:745.6999},{name:"Foot pound-force/second",toWatt:1.3558179483},{name:"Foot pound-force/minute",toWatt:.0225969658},{name:"Foot pound-force/hour",toWatt:.0003766161}],data=[{name:"Bits",toMegabytes:125e-9},{name:"Bytes",toMegabytes:1e-6},{name:"Kilobits",toMegabytes:125e-6},{name:"Kilobytes",toMegabytes:.001},{name:"Megabits",toMegabytes:.125},{name:"Megabytes",toMegabytes:1},{name:"Gigabits",toMegabytes:125},{name:"Gigabytes",toMegabytes:1e3},{name:"Terabits",toMegabytes:125e3},{name:"Terabytes",toMegabytes:1e6},{name:"Petabits",toMegabytes:125e6},{name:"Petabytes",toMegabytes:1e9}],numpad=document.querySelector(".numpad"),numpadButtons=document.querySelectorAll(".numpad-button"),buttonEquals=document.querySelector(".button-equals"),extendedButtonZero=document.querySelector(".extended-button-zero"),extendedButtonClear=document.querySelector(".extended-button-clear"),extendedButtonDelete=document.querySelector(".extended-button-delete"),scientificModeButtons=document.querySelectorAll(".scientific-mode"),operatorButtons=document.querySelectorAll(".button-operator"),PI=Math.PI,E=Math.E;function isVisible(e){const n=getComputedStyle(e).display;return n!=="none"&&n!==""}function hideElement(e){isVisible(e)&&(e.style.display="none")}function showElement(e,n){isVisible(e)||(e.style.display=n)}function resetDisplayValue(e,n){e.textContent=n}function hideModeSelection(){modeSelectionAside.style.transform="translateX(-100%)",setTimeout(()=>hideElement(modeSelectionAside),300)}function numpadModeHidden(){numpad.style.opacity="0",numpad.style.pointerEvents="none"}function numpadModeSmallest(){numpad.style.opacity="1",numpad.style.pointerEvents="all",numpad.style.gridTemplateRows="repeat(4, 80px)",numpad.style.gridTemplateColumns="repeat(4, 80px)",numpad.style.gap="21px 15px",extendedButtonZero.style.gridColumn="2 / 3",extendedButtonClear.style.gridColumn="4 / 5",extendedButtonClear.style.gridRow="1 / 3",extendedButtonDelete.style.gridColumn="4 / 5",extendedButtonDelete.style.gridRow="3 / 5",numpadButtons.forEach(e=>{e.style.fontSize="3rem"}),operatorButtons.forEach(e=>{e.style.display="none"}),scientificModeButtons.forEach(e=>{e.style.display="none"}),document.querySelector(".button-switchToNegative").style.display="block",buttonEquals.style.display="none"}function numpadModeStandart(){numpad.style.opacity="1",numpad.style.pointerEvents="all",numpad.style.gridTemplateRows="repeat(5, 80px)",numpad.style.gridTemplateColumns="repeat(4, 80px)",numpad.style.gap="21px 15px",extendedButtonZero.style.gridColumn="1 / 3",extendedButtonClear.style.gridColumn="1 / 2",extendedButtonClear.style.gridRow="1 / 2",extendedButtonDelete.style.gridColumn="4 / 5",extendedButtonDelete.style.gridRow="1 / 2",numpadButtons.forEach(e=>{e.style.fontSize="3rem"}),operatorButtons.forEach(e=>{e.style.display="block"}),scientificModeButtons.forEach(e=>{e.style.display="none"}),buttonEquals.style.display="block",resetDisplayValue(expression,""),resetDisplayValue(result,"0")}function numpadModeScientific(){numpad.style.opacity="1",numpad.style.pointerEvents="all",numpad.style.gridTemplateRows="repeat(7, 60px)",numpad.style.gridTemplateColumns="repeat(5, 60px)",numpad.style.gap="10px 15px",extendedButtonZero.style.gridColumn="2 / 4",extendedButtonClear.style.gridColumn="1 / 2",extendedButtonClear.style.gridRow="1 / 2",extendedButtonDelete.style.gridColumn="5 / 6",extendedButtonDelete.style.gridRow="1 / 2",numpadButtons.forEach(e=>{e.style.fontSize="2rem"}),scientificModeButtons.forEach(e=>{e.style.display="block"}),operatorButtons.forEach(e=>{e.style.display="block"}),buttonEquals.style.display="block",resetDisplayValue(expression,""),resetDisplayValue(result,"0")}function dateModeHidden(){hideElement(firstDate),hideElement(secondDate),hideElement(additionResult),showElement(firstSelectionList,"block"),showElement(secondSelectionList,"block")}function dateModeShowed(){hideElement(firstSelectionList),hideElement(secondSelectionList),showElement(firstDate,"block"),showElement(secondDate,"block"),showElement(additionResult,"block")}function getPxToNumberValue(e){return Number(e.slice(0,-2))}function setFittedFontSize(e,n){textFit(e,{reProcess:!0,minFontSize:n/2,maxFontSize:n,detectMultiLine:!1})}function getExpressionInBrackets(e){const n=e.lastIndexOf(")");let o=-1;if(n!==-1){let r=0;for(let i=n-1;i>=0;i--)if(e[i]===")")r++;else if(e[i]==="(")if(r===0){o=i;break}else r--}const t=e.split(/[\s+\-*/()]+/),s=o!==-1&&n!==-1?e.slice(o+1,n).trim():"";return{openIndex:o,closeIndex:n,insideBrackets:s,numArray:t}}function getFromToModeConvertFunction(){let e;switch(isCurrentDateMode=!1,topBarTitle.textContent){case"Currency":e=convertCurrency;break;case"Date Calculator":isCurrentDateMode=!0;break;case"Weight & Mass":e=convertWeightAndMass;break;case"Temperature":e=convertTemperature;break;case"Area":e=convertArea;break;case"Time":e=convertTime;break;case"Power":e=convertPower;break;case"Data":e=convertData;break}return e}openModeSelection.addEventListener("click",()=>{showElement(modeSelectionAside,"flex"),requestAnimationFrame(()=>{modeSelectionAside.style.transform="translateX(0)"}),setTimeout(()=>{hideElement(display),hideElement(displayFromToMode),hideElement(numpad)},300)});selectStandartMode.addEventListener("click",()=>{isCurrentFromToMode=!1,topBarTitle.innerText="Standart",showElement(display,"flex"),showElement(numpad,"grid"),numpadModeStandart(),hideModeSelection()});selectScientificMode.addEventListener("click",()=>{isCurrentFromToMode=!1,topBarTitle.innerText="Scientific",showElement(display,"flex"),showElement(numpad,"grid"),numpadModeScientific(),hideModeSelection()});openHistory.addEventListener("click",()=>{alert("То на новий рік")});selectDateCalculationMode.addEventListener("click",()=>{isCurrentFromToMode=!0,topBarTitle.innerText="Date Calculator",convertFunction=getFromToModeConvertFunction(),showElement(displayFromToMode,"block"),firstUnitText.textContent="From",secondUnitText.textContent="To",firstUnitText.style.fontWeight="400",secondUnitText.style.fontWeight="400",dateModeShowed();const e=new Date().toISOString().slice(0,10);firstDate.value=e,secondDate.value=e,additionResult.textContent="",showElement(numpad,"grid"),numpadModeSmallest(),numpadModeHidden(),hideModeSelection()});selectCurrencyMode.addEventListener("click",()=>{isCurrentFromToMode=!0,topBarTitle.innerText="Currency",convertFunction=getFromToModeConvertFunction(),showElement(displayFromToMode,"block"),firstUnitText.textContent="0",secondUnitText.textContent="0",firstUnitText.style.fontWeight="700",secondUnitText.style.fontWeight="400",lastUnit=firstUnitText,additionResult.textContent="",(!currency||currency.length===0)&&(async()=>{try{currency=await fetchCurrencies(),changeListValues(currency),alert("Data refreshed")}catch(e){alert(e)}})(),dateModeHidden(),showElement(numpad,"grid"),numpadModeSmallest(),hideModeSelection()});selectWeightAndMassMode.addEventListener("click",()=>{isCurrentFromToMode=!0,topBarTitle.innerText="Weight & Mass",convertFunction=getFromToModeConvertFunction(),showElement(displayFromToMode,"block"),changeListValues(weightAndMass),firstUnitText.textContent="0",secondUnitText.textContent="0",firstUnitText.style.fontWeight="700",secondUnitText.style.fontWeight="400",lastUnit=firstUnitText,dateModeHidden(),showElement(numpad,"grid"),numpadModeSmallest(),hideModeSelection()});selectTemperatureMode.addEventListener("click",()=>{isCurrentFromToMode=!0,topBarTitle.innerText="Temperature",convertFunction=getFromToModeConvertFunction(),showElement(displayFromToMode,"block"),changeListValues(temperature),firstUnitText.textContent="0",secondUnitText.textContent="0",firstUnitText.style.fontWeight="700",secondUnitText.style.fontWeight="400",lastUnit=firstUnitText,dateModeHidden(),showElement(numpad,"grid"),numpadModeSmallest(),hideModeSelection()});selectAreaMode.addEventListener("click",()=>{isCurrentFromToMode=!0,topBarTitle.innerText="Area",convertFunction=getFromToModeConvertFunction(),showElement(displayFromToMode,"block"),changeListValues(area),firstUnitText.textContent="0",secondUnitText.textContent="0",firstUnitText.style.fontWeight="700",secondUnitText.style.fontWeight="400",lastUnit=firstUnitText,dateModeHidden(),showElement(numpad,"grid"),numpadModeSmallest(),hideModeSelection()});selectTimeMode.addEventListener("click",()=>{isCurrentFromToMode=!0,topBarTitle.innerText="Time",convertFunction=getFromToModeConvertFunction(),showElement(displayFromToMode,"block"),changeListValues(time),firstUnitText.textContent="0",secondUnitText.textContent="0",firstUnitText.style.fontWeight="700",secondUnitText.style.fontWeight="400",lastUnit=firstUnitText,dateModeHidden(),showElement(numpad,"grid"),numpadModeSmallest(),hideModeSelection()});selectPowerMode.addEventListener("click",()=>{isCurrentFromToMode=!0,topBarTitle.innerText="Power",convertFunction=getFromToModeConvertFunction(),showElement(displayFromToMode,"block"),changeListValues(power),firstUnitText.textContent="0",secondUnitText.textContent="0",firstUnitText.style.fontWeight="700",secondUnitText.style.fontWeight="400",lastUnit=firstUnitText,dateModeHidden(),showElement(numpad,"grid"),numpadModeSmallest(),hideModeSelection()});selectDataMode.addEventListener("click",()=>{isCurrentFromToMode=!0,topBarTitle.innerText="Data",convertFunction=getFromToModeConvertFunction(),showElement(displayFromToMode,"block"),changeListValues(data),firstUnitText.textContent="0",secondUnitText.textContent="0",firstUnitText.style.fontWeight="700",secondUnitText.style.fontWeight="400",lastUnit=firstUnitText,dateModeHidden(),showElement(numpad,"grid"),numpadModeSmallest(),hideModeSelection()});let expressionToCalc="",isLastOperationWasOperator=!1,isLastOperationWasPercentage=!1,isLastOperationWasPower=!1,isLastOperationWasMathExpression=!1,isLastOperationWasEqual=!1,lastMathExpressionLength=0,lastMathExpressionToCalcLength=0,lastMathEndPointLength=0,leftBracketsNum=0,rightBracketsNum=0;numpad.addEventListener("click",event=>{isLastOperationWasEqual&&(expression.textContent="",isLastOperationWasEqual=!1);let currentResultText=result.textContent,currentExpressionText=expression.textContent;if(currentExpressionText.charAt(currentExpressionText.length-2),event.target.closest(".button-clear")&&(isCurrentFromToMode?(lastUnit.textContent="0",convertValue(lastUnit,convertFunction),setFittedFontSize(firstUnitText,resultFontSize),setFittedFontSize(secondUnitText,resultFontSize)):(expression.textContent="",result.textContent="0",expressionToCalc="",lastMathExpressionLength=0,lastMathExpressionToCalcLength=0,lastMathEndPointLength=0,leftBracketsNum=0,rightBracketsNum=0,setFittedFontSize(result,resultFontSize))),event.target.closest(".button-delete")){if(isCurrentFromToMode){const e=lastUnit.textContent.length;e===1?lastUnit.textContent="0":lastUnit.textContent=lastUnit.textContent.slice(0,e-1),convertValue(lastUnit,convertFunction),setFittedFontSize(firstUnitText,resultFontSize),setFittedFontSize(secondUnitText,resultFontSize)}else if(currentResultText){const e=currentResultText.length;e===1?result.textContent="0":result.textContent=currentResultText.slice(0,e-1),setFittedFontSize(result,resultFontSize)}}if(event.target.closest(".button-number")){const e=event.target.textContent;isCurrentFromToMode?(lastUnit.textContent==="0"||isNewUnit?(isNewUnit=!1,lastUnit.textContent=e):lastUnit.textContent+=e,convertValue(lastUnit,convertFunction),setFittedFontSize(firstUnitText,resultFontSize),setFittedFontSize(secondUnitText,resultFontSize)):(currentResultText==="0"||currentResultText===" "?result.textContent=e:result.textContent+=e,setFittedFontSize(result,resultFontSize))}if(event.target.closest(".button-switchToNegative")&&(isCurrentFromToMode?(lastUnit.textContent.startsWith("-")?lastUnit.textContent=lastUnit.textContent.slice(1):lastUnit.textContent="-"+lastUnit.textContent,convertValue(lastUnit,convertFunction),setFittedFontSize(firstUnitText,resultFontSize),setFittedFontSize(secondUnitText,resultFontSize)):(currentResultText.startsWith("-")?result.textContent=currentResultText.slice(1):result.textContent="-"+currentResultText,setFittedFontSize(result,resultFontSize))),event.target.closest(".button-const")&&(event.target.textContent==="e"?result.textContent=E:result.textContent=PI,setFittedFontSize(result,resultFontSize)),event.target.closest(".button-math-expression")){if(isLastOperationWasPercentage)return;let e=event.target.textContent,n,o="Math.",t="";const s=getExpressionInBrackets(currentExpressionText),r=getExpressionInBrackets(expressionToCalc),i=r.openIndex,l=r.closeIndex,a=s.openIndex,c=s.closeIndex;switch(e){case"log":n=e+"10";break;case"ln":n="log";break;case"x⁻¹":e=n="1 / ",o="";break;case"√":n="sqrt";break;case"|x|":e="",n="abs",t="|";break;default:n=e;break}if(a!==-1&&c!==-1)if(isLastOperationWasMathExpression){const d=Math.max(0,i-(lastMathExpressionToCalcLength+lastMathEndPointLength)),u=Math.max(0,a-lastMathExpressionLength);expressionToCalc=expressionToCalc.slice(0,d)+`${o}${n}(`+expressionToCalc.slice(d)+")",expression.textContent=currentExpressionText.slice(0,u)+`${e}(${t}`+currentExpressionText.slice(u)+`${t}) `}else isLastOperationWasOperator?(expressionToCalc+=`${o}${n}(${currentResultText})`,expression.textContent+=`${e}(${t}${currentResultText}${t}) `):(expressionToCalc=expressionToCalc.slice(0,i)+`${o}${n}`+expressionToCalc.slice(i),expression.textContent=currentExpressionText.slice(0,a)+`${t}${e}${t}`+currentExpressionText.slice(a));else expressionToCalc+=`${o}${n}(${currentResultText})`,expression.textContent+=`${e}(${t}${currentResultText}${t}) `;lastMathExpressionLength=e.length,console.log("Last math expression lenght: "+lastMathExpressionLength),lastMathExpressionToCalcLength=n.length,lastMathEndPointLength=o.length,isLastOperationWasMathExpression=!0,isLastOperationWasOperator=!1,isLastOperationWasPercentage=!1,isLastOperationWasPower=!1,result.textContent="0",console.log(expression.textContent,expressionToCalc,a,c,i,l),leftBracketsNum++,rightBracketsNum++,setFittedFontSize(expression,expressionFontSize)}if(event.target.closest(".button-brackets")&&(event.target.textContent==="("?(isLastOperationWasMathExpression||isLastOperationWasPercentage?(expression.textContent+=" × ( ",expressionToCalc+="*("):(expression.textContent+=" ( ",expressionToCalc+="("),leftBracketsNum++):leftBracketsNum>rightBracketsNum&&(currentExpressionText.charAt(currentExpressionText.length-2)===")"?(expression.textContent+=" ) ",expressionToCalc+=")"):(expression.textContent+=currentResultText+" ) ",expressionToCalc+=currentResultText+")"),rightBracketsNum++),isLastOperationWasOperator=!1,setFittedFontSize(result,resultFontSize)),event.target.closest(".button-decimal")&&(isCurrentFromToMode?lastUnit.textContent.includes(".")||(lastUnit.textContent+="."):result.textContent.includes(".")||(currentResultText.charAt(currentResultText.length-1)===" "?result.textContent+="0.":result.textContent+=".",setFittedFontSize(result,resultFontSize))),event.target.closest(".button-operator")){let operator="",symbol=event.target.textContent;const lastOperator=currentExpressionText.charAt(currentExpressionText.length-2);lastOperator!==")"&&(expressionToCalc+=currentResultText);let isCurrentOperationIsPercentage=!1;switch(isLastOperationWasPower=!1,symbol){case"÷":operator="/";break;case"×":operator="*";break;case"%":if(console.log(lastOperator),isLastOperationWasMathExpression||isLastOperationWasPercentage||lastOperator===")"||lastOperator==="=")return;isCurrentOperationIsPercentage=!0,operator="";const insideBracketsExp=getExpressionInBrackets(expressionToCalc),openIndex=insideBracketsExp.openIndex,closeIndex=insideBracketsExp.closeIndex,insideBrackets=insideBracketsExp.insideBrackets,numArray=insideBracketsExp.numArray,arrayLength=numArray.length;if(arrayLength<2)operator=0;else if(openIndex!==-1&&closeIndex!==-1){const twoSymbolsMathExpression=expressionToCalc.slice(openIndex-2,openIndex),threeSymbolsMathExpression=expressionToCalc.slice(openIndex-3,openIndex),threeSymbolsMathExpressions=["sin","cos","tan","log"];let mathExpression="";twoSymbolsMathExpression==="ln"?(mathExpression=twoSymbolsMathExpression,operator=eval(eval(`Math.${mathExpression}( + ${insideBrackets})`)*numArray[arrayLength-1]/100)):threeSymbolsMathExpressions.includes(threeSymbolsMathExpression)?(mathExpression=threeSymbolsMathExpression,operator=eval(eval(`Math.${mathExpression}( + ${insideBrackets})`)*numArray[arrayLength-1]/100)):operator=eval(eval(insideBrackets)*numArray[arrayLength-1]/100)}else operator=eval(numArray[arrayLength-2]*numArray[arrayLength-1]/100);symbol=operator,expressionToCalc=expressionToCalc.replace(numArray[arrayLength-1],operator);break;case"x²":operator="** 2",symbol="^ 2",isLastOperationWasPower=!0;break;case"xʸ":operator="**",symbol="^";break;default:operator=symbol;break}lastOperator===")"?(expressionToCalc+=" "+operator+" ",expression.textContent+=" "+symbol+" "):lastOperator==="="?(expressionToCalc=currentResultText+" "+operator+" ",expression.textContent=currentResultText+" "+symbol+" "):parseFloat(symbol)||symbol==="0"?expression.textContent+=symbol:isLastOperationWasPercentage&&lastOperator!=="("?(expressionToCalc+=" "+operator+" ",expression.textContent+=" "+symbol+" "):(expressionToCalc+=" "+operator+" ",expression.textContent+=currentResultText+" "+symbol+" "),isLastOperationWasOperator=!0,isCurrentOperationIsPercentage?isLastOperationWasPercentage=!0:isLastOperationWasPercentage=!1,isLastOperationWasMathExpression=!1,setFittedFontSize(expression,expressionFontSize),result.textContent="0",setFittedFontSize(result,resultFontSize)}if(event.target.closest(".button-equals")){const lastOperator=currentExpressionText.charAt(currentExpressionText.length-2);if(lastOperator!=="="){for(!isLastOperationWasPercentage&&lastOperator!==")"&&!isLastOperationWasPower&&(expressionToCalc+=currentResultText,expression.textContent+=currentResultText);leftBracketsNum>rightBracketsNum;)expressionToCalc+=")",leftBracketsNum===rightBracketsNum+1?expression.textContent+=" )":expression.textContent+=" ) ",rightBracketsNum++;expression.textContent+=" = ",setFittedFontSize(expression,expressionFontSize);try{const evalResult=eval(expressionToCalc);isNaN(evalResult)?result.textContent="Error":result.textContent=evalResult}catch(e){result.textContent="Error"}setFittedFontSize(result,resultFontSize),expressionToCalc="",isLastOperationWasEqual=!0,console.log(expressionToCalc),lastMathExpressionLength=0,lastMathExpressionToCalcLength=0,leftBracketsNum=0,rightBracketsNum=0,isLastOperationWasMathExpression=!1,isLastOperationWasOperator=!1,isLastOperationWasPower=!1,isLastOperationWasPercentage=!1,console.log(currentExpressionText),console.log(expressionToCalc)}}});let lastUnit=firstUnitText,isNewUnit=!0;function changeListValues(e){firstSelectionList.innerHTML="",secondSelectionList.innerHTML="",e.forEach(n=>{let o=document.createElement("option");o.value=n.name,o.textContent=n.name;let t=document.createElement("option");t.value=n.name,t.textContent=n.name,firstSelectionList.appendChild(o),secondSelectionList.appendChild(t)})}firstUnitText.addEventListener("click",()=>{isCurrentDateMode||(lastUnit=firstUnitText,isNewUnit=!0,firstUnitText.style.fontWeight="700",secondUnitText.style.fontWeight="400")});secondUnitText.addEventListener("click",()=>{isCurrentDateMode||(lastUnit=secondUnitText,isNewUnit=!0,secondUnitText.style.fontWeight="700",firstUnitText.style.fontWeight="400")});firstSelectionList.addEventListener("change",()=>{convertValue(lastUnit,convertFunction),setFittedFontSize(secondUnitText,resultFontSize)});secondSelectionList.addEventListener("change",()=>{convertValue(lastUnit,convertFunction),setFittedFontSize(firstUnitText,resultFontSize)});firstDate.addEventListener("change",()=>{convertDate()});secondDate.addEventListener("change",()=>{convertDate()});function convertValue(e,n){let o,t;e===firstUnitText?(o=firstSelectionList,t=secondSelectionList):(o=secondSelectionList,t=firstSelectionList);const s=o.value,r=t.value,i=parseFloat(lastUnit.textContent),l=n(s,r,i);e===firstUnitText?secondUnitText.textContent=l:firstUnitText.textContent=l}const msPerDay=1e3*60*60*24,msPerWeek=msPerDay*7,msPerMonth=msPerWeek*4.34,msPerYear=msPerMonth*12;function convertDate(){let e=new Date(firstDate.value),n=new Date(secondDate.value);e=e.getTime(),n=n.getTime();let o=Math.abs(e-n);const t=Math.floor(o/msPerDay);console.log(e," - ",n," = ",o);const s=Math.floor(o/msPerYear);s&&(o-=s*msPerYear);const r=Math.floor(o/msPerMonth);r&&(o-=r*msPerMonth);const i=Math.floor(o/msPerWeek);i&&(o-=i*msPerWeek);const l=Math.floor(o/msPerDay);l&&(o-=l*msPerDay);let a=[];s&&a.push(` ${s} yr`),r&&a.push(` ${r} mo`),i&&a.push(` ${i} wks`),l&&a.push(` ${l} days`),t?additionResult.innerHTML=`${a.join(", ")}<br><br>In Days: ${t}`:t===0?additionResult.innerHTML="Same Day":additionResult.innerHTML="Enter Second Date"}const CURRENCIES_URL_ENDPOINT="https://api.exchangeratesapi.io/v1/";async function fetchCurrencies(){const e=`${CURRENCIES_URL_ENDPOINT}latest?access_key=${apiKey}`,o=await(await fetch(e)).json();let t=[];for(const[s,r]of Object.entries(o.rates))t.push({name:s,toEUR:1/r});return t}function convertCurrency(e,n,o){let t=0,s=0;for(;t<currency.length&&currency[t].name!==e;)t++;for(;s<currency.length&&currency[s].name!==n;)s++;const r=o*currency[t].toEUR/currency[s].toEUR;return isNaN(r)?"Error":parseFloat(r.toFixed(2))}function convertTemperature(e,n,o){let t;switch(e){case"Celsius":n==="Fahrenheit"?t=o*9/5+32:n==="Kelvin"?t=o+273.15:t=o;break;case"Fahrenheit":n==="Celsius"?t=(o-32)*5/9:n==="Kelvin"?t=(o-32)*5/9+273.15:t=o;break;case"Kelvin":n==="Fahrenheit"?t=(o-273.15)*9/5+32:n==="Celsius"?t=o-273.15:t=o;break;default:t=o;break}return isNaN(t)?"Error":t}function convertArea(e,n,o){let t=0,s=0;for(;t<area.length&&area[t].name!==e;)t++;for(;s<area.length&&area[s].name!==n;)s++;const r=o*area[t].toSquareMeters/area[s].toSquareMeters;return isNaN(r)?"Error":parseFloat(r.toFixed(20))}function convertTime(e,n,o){let t=0,s=0;for(;t<time.length&&time[t].name!==e;)t++;for(;s<time.length&&time[s].name!==n;)s++;const r=o*time[t].toSeconds/time[s].toSeconds;return isNaN(r)?"Error":r}function convertWeightAndMass(e,n,o){let t=0,s=0;for(;t<weightAndMass.length&&weightAndMass[t].name!==e;)t++;for(;s<weightAndMass.length&&weightAndMass[s].name!==n;)s++;const r=o*weightAndMass[t].toKilograms/weightAndMass[s].toKilograms;return isNaN(r)?"Error":parseFloat(r.toFixed(10))}function convertPower(e,n,o){let t=0,s=0;for(;t<power.length&&power[t].name!==e;)t++;for(;s<power.length&&power[s].name!==n;)s++;const r=o*power[t].toWatt/power[s].toWatt;return isNaN(r)?"Error":parseFloat(r.toFixed(10))}function convertData(e,n,o){let t=0,s=0;for(;t<data.length&&data[t].name!==e;)t++;for(;s<data.length&&data[s].name!==n;)s++;const r=o*data[t].toMegabytes/data[s].toMegabytes;return isNaN(r)?"Error":parseFloat(r.toFixed(10))}
